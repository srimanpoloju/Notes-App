:root{
	--bg:#0f1724; /* deep navy */
	--card:#0b1220;
	--muted:#94a3b8;
	--accent:#7c3aed; /* violet */
	--accent-2:#06b6d4; /* teal */
	--surface:#0b1220;
	--glass: rgba(255,255,255,0.04);
	--radius:12px;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
	margin:0;
	font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
	background: linear-gradient(180deg, #071029 0%, #071726 100%);
	color:#e6eef8;
	-webkit-font-smoothing:antialiased;
	-moz-osx-font-smoothing:grayscale;
}

.app{
	max-width:1100px;
	margin:40px auto;
	padding:20px;
	display:grid;
	grid-template-columns: 1fr 360px;
	gap:24px;
}

/* animated background layer */
.app:before{
	content:"";
	position:fixed;inset:0;pointer-events:none;z-index:0;
	background: radial-gradient(ellipse at 20% 10%, rgba(124,58,237,0.06) 0%, transparent 15%),
							radial-gradient(ellipse at 80% 80%, rgba(6,182,212,0.04) 0%, transparent 15%);
	mix-blend-mode: screen;opacity:1;
}

/* butterflies animation */
.butterflies{position:fixed;inset:0;pointer-events:none;z-index:5}
.butterfly{
	--size: 28px;
	width:var(--size);height:var(--size);
	background: radial-gradient(circle at 30% 35%, #ffd166 10%, transparent 11%),
							radial-gradient(circle at 70% 35%, #f4a261 10%, transparent 11%),
							linear-gradient(180deg,#fca311,#ff7b54);
	border-radius:50% 50% 40% 40%;
	transform-origin:center;
	position:absolute;left:-10%;bottom:10%;
	filter:drop-shadow(0 6px 14px rgba(12,18,38,0.5));
	animation: fly linear infinite, flutter 0.9s ease-in-out infinite alternate;
	animation-duration: calc(12s + (var(--i) * 2s));
	animation-delay: calc(var(--i) * -1.5s);
	opacity:0.95;
}
.butterfly:before,.butterfly:after{
	content:"";position:absolute;inset:0;border-radius:inherit;mix-blend-mode:screen;opacity:0.9;
}

@keyframes flutter{
	from{transform: rotate(-4deg) translateY(0)}
	to{transform: rotate(6deg) translateY(-6px)}
}

@keyframes fly{
	0%{transform: translate3d(-5vw, 80vh, 0) scale(0.7) rotate(0deg)}
	25%{transform: translate3d(15vw, 60vh, 0) scale(0.9) rotate(10deg)}
	50%{transform: translate3d(40vw, 30vh, 0) scale(1) rotate(-6deg)}
	75%{transform: translate3d(70vw, 50vh, 0) scale(0.9) rotate(8deg)}
	100%{transform: translate3d(110vw, 10vh, 0) scale(0.7) rotate(0deg)}
}

/* make toast float and shimmer */
.toast{
	position:fixed;right:28px;bottom:28px;background:linear-gradient(90deg,var(--accent),#4f46e5);color:#fff;padding:12px 18px;border-radius:14px;box-shadow:0 12px 40px rgba(79,70,229,0.18);transform-origin:center;animation: floatUp 3s ease-in-out infinite;
}

@keyframes floatUp{
	0%{transform:translateY(0) translateZ(0)}
	50%{transform:translateY(-8px) translateZ(0)}
	100%{transform:translateY(0) translateZ(0)}
}

/* book page tweaks: make more like paper */
.page{
	background:linear-gradient(180deg,#fffaf0,#fff7ec);color:#0b1220;border-radius:6px;padding:26px;box-shadow:0 12px 30px rgba(2,6,23,0.25), inset 0 2px 0 rgba(255,255,255,0.6);
	border-left:1px solid rgba(16,24,40,0.04);border-right:1px solid rgba(16,24,40,0.04);
}
.book-spread{z-index:2}
.page .meta{color:#6b7280}
.note-page h3{font-family:'Georgia', serif;font-weight:700}
.note-page p{font-family: 'Georgia', serif;color:#333;line-height:1.55}


header{
	grid-column:1/-1;
	display:flex;
	align-items:center;
	justify-content:space-between;
	gap:16px;
}
header h1{margin:0;font-weight:700;font-size:20px;letter-spacing:-0.2px}
header .sub{color:var(--muted);font-size:13px}

.composer{
	background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
	border-radius:var(--radius);
	padding:14px;
	box-shadow: 0 6px 20px rgba(2,6,23,0.6);
	display:flex;flex-direction:column;gap:10px;
}
.composer input,.composer textarea{
	width:100%;
	padding:12px 14px;
	border-radius:10px;
	border:1px solid rgba(255,255,255,0.04);
	background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.0));
	color:var(--accent-2);
	outline:none;
}
.composer textarea{min-height:90px;resize:vertical}
.composer .row{display:flex;gap:8px;align-items:center}
.btn{
	display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600
}
.btn-primary{background:linear-gradient(90deg,var(--accent),#4f46e5);color:#fff}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted)}

.notes-list{
	display:flex;flex-direction:column;gap:12px;
}

.note{
	background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
	padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);
	box-shadow: 0 6px 18px rgba(2,6,23,0.5);
}
.note .meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;color:var(--muted);font-size:13px}
.note h3{margin:0;color:#fff}
.note p{margin:8px 0 0;color: #cde6f5;white-space:pre-wrap}
.note .actions button{margin-left:8px}

.sidebar{
	background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
	border-radius:var(--radius);padding:16px;height:fit-content;border:1px solid rgba(255,255,255,0.04);
}
.sidebar h4{margin:0 0 8px;color:var(--muted)}
.sidebar .tip{font-size:13px;color:var(--muted);line-height:1.4}

.toast{
	position:fixed;right:20px;bottom:20px;background:linear-gradient(90deg,var(--accent),#4f46e5);color:#fff;padding:10px 14px;border-radius:10px;box-shadow:0 8px 30px rgba(79,70,229,0.2);
}

/* edit inputs inside note */
.note input,.note textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:#fff}

@media (max-width:980px){
	.app{grid-template-columns:1fr;padding:14px}
	.sidebar{order:2}
}

/* Book styles */
.book{grid-column:1/2;display:flex;flex-direction:column;gap:12px}
.book-controls{display:flex;align-items:center;justify-content:space-between;gap:12px}
.spread-info{color:var(--muted)}
.book-spread{display:flex;gap:18px;align-items:stretch;justify-content:center;padding:18px}
.page{width:48%;background:linear-gradient(180deg,#fff,#f8fafc);color:#0b1220;border-radius:6px;padding:18px;box-shadow:0 12px 30px rgba(2,6,23,0.6);position:relative;overflow:hidden}
.book-spread{perspective:1600px}
.page{transform-style:preserve-3d;backface-visibility:hidden;transition:transform 0.8s cubic-bezier(.2,.9,.25,1)}

/* flip next: right page flips to left */
.book-spread.turn-next .page.right{
	transform-origin: left center;
	animation: flipNext 0.8s forwards cubic-bezier(.2,.9,.25,1);
	z-index:4;
}
.book-spread.turn-next .page.left{z-index:2}

/* flip prev: left page flips back */
.book-spread.turn-prev .page.left{
	transform-origin: right center;
	animation: flipPrev 0.8s forwards cubic-bezier(.2,.9,.25,1);
	z-index:4;
}
.book-spread.turn-prev .page.right{z-index:2}

@keyframes flipNext{
	0%{transform: rotateY(0deg)}
	50%{transform: rotateY(-90deg) translateZ(8px);filter:brightness(.95)}
	100%{transform: rotateY(-180deg) translateZ(0);opacity:0}
}

@keyframes flipPrev{
	0%{transform: rotateY(0deg)}
	50%{transform: rotateY(90deg) translateZ(8px);filter:brightness(.95)}
	100%{transform: rotateY(180deg) translateZ(0);opacity:0}
}
.page.left{transform-origin:left center}
.page.right{transform-origin:right center}
.page .meta{color:#475569}
.note-page h3{margin:0 0 6px;font-size:18px;color:#0b1220}
.note-page p{color:#24303a}
.note-page.empty{opacity:0.4;color:#94a3b8;text-align:center;padding:40px}
.page-actions{margin-top:12px;display:flex;gap:8px}

/* give pages a subtle paper texture */
.page:before{content:"";position:absolute;inset:0;pointer-events:none;background-image:linear-gradient(transparent 0%, rgba(0,0,0,0.01) 50%, transparent 100%);opacity:0.35}

@media (max-width:980px){
  .book-spread{flex-direction:column}
  .page{width:100%}
}

/* 3D book cover scene */
.scene{position:relative;width:100%;display:flex;justify-content:center;pointer-events:none;z-index:1}
.book-cover{width:360px;height:220px;transform-style:preserve-3d;transform:perspective(1200px) rotateY(-18deg);transition:transform .9s cubic-bezier(.2,.9,.25,1);}
.book-cover:hover{transform:perspective(1200px) rotateY(-12deg) translateZ(6px)}
.book-cover .cover-front,.book-cover .cover-back{position:absolute;inset:0;border-radius:8px;box-shadow:0 18px 50px rgba(2,6,23,0.45);}
.book-cover .cover-front{background:linear-gradient(180deg,#fffbf0,#fff1d6);transform:translateZ(10px);display:flex;align-items:center;justify-content:center}
.book-cover .cover-back{background:linear-gradient(180deg,#f6f1e6,#efe6d1);transform:translateZ(-20px);left:6px}
.book-cover .cover-spine{position:absolute;left:calc(50% - 16px);top:12px;width:32px;height:196px;background:linear-gradient(180deg,#d6bc71,#b8863d);border-radius:4px;transform:translateZ(0)}
.book-cover .cover-title{font-family: 'Georgia', serif;color:#2a2a2a;font-weight:700;font-size:20px;letter-spacing:0.4px}

/* Ensure book spread is above decorative layers */
.book-spread{z-index:3}
.scene{z-index:2}

/* Debug status box */
.debug-status{position:fixed;left:20px;bottom:20px;background:rgba(15,23,36,0.8);color:#e6eef8;padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);z-index:40;font-size:13px}



